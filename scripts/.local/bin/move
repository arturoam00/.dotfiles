#!/bin/bash

# move â€” Move media (photos or videos) into YYYY/MM folders based on EXIF metadata.

usage() {
  echo "Usage: $0 [source_dir]"
  exit 1
}

if [ "$#" -gt 1 ]; then
  usage
fi

src_dir="${1:-.}"

# Move photos
exiftool -r "-Directory<$HOME/Pics/Photos/\${DateTimeOriginal}" -d '%Y/%m' -if '$mimetype =~ /^image\//' $src_dir

# Move videos
exiftool -r "-Directory<$HOME/Vids/Videos/\${DateTimeOriginal}" -d '%Y/%m' -if '$DateTimeOriginal and $mimetype =~ /^video\//' $src_dir
exiftool -r "-Directory<$HOME/Vids/Videos/\${MediaCreateDate}" -d '%Y/%m' -if '$MediaCreateDate and $mimetype =~ /^video\//' $src_dir
# exiftool -r "-Directory<$HOME/Vids/Videos/\${FileModifyDate}" -d '%Y/%m' -if '$MediaCreateDate and $mimetype =~ /^video\//' $src_dir
