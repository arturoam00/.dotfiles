#!/bin/sh

laptop="eDP-1"
monitor="HDMI-A-1"

active=$(swaymsg -t get_outputs -r | jq -r '.[] | select(.active) | (.name)' | tr '[:space:]' ' ')

if grep -q "$monitor" <(echo "$active"); then
    swaymsg output "$laptop" disable
elif grep -qv "$monitor" <(echo "$active"); then
    playerctl -a pause; swaylock -f -c 000000 && systemctl sleep
fi


